<div class="overview-wrapper mt-4">
  <h2>Portfolios</h2>
  <!-- <span class="total">{{ totalSumOfPortfolios | currency }}</span> -->

  <table class="table table-sm col-6 mt-4">
    <thead>
      <tr>
        <th>Name</th>
        <th>Positions</th>
        <th>Total Invested Capital</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let portfolio of portfolioObjArr; index as i">
        <td>
          <a class="portfolio-link" (click)="selectPortfolio(i)">{{
            portfolio.name
          }}</a>
        </td>
        <td>
          {{ portfolio.positions.length }}
        </td>
        <td>
          {{ portfolioTotalValues[i].value | currency }}
        </td>
      </tr>
      <tr class="table-light totals-row">
        <td>Totals</td>
        <td>{{ totalPositions }}</td>
        <td>{{ totalSumOfPortfolios | currency }}</td>
      </tr>
    </tbody>
  </table>
  <!-- <ul class="portfolio-ul">
    <li *ngFor="let portfolio of pageUser.portfolios; index as i">
      <a class="portfolio-link" (click)="selectPortfolio(i)">{{
        portfolio.name
      }}</a>
    </li>
  </ul> -->

  <h3 class="mt-5">Charts</h3>

  <div class="col-6">
    <ngx-charts-pie-chart
      [results]="breakdownResults"
      [view]="[400, 250]"
      [labels]="true"
      [legend]="false"
      [legendPosition]="'right'"
      [arcWidth]="0.5"
      [animations]="false"
      [tooltipText]="formatTooltip"
      [doughnut]="true"
    >
    </ngx-charts-pie-chart>
  </div>
</div>
